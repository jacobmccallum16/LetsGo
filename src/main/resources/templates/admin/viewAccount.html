<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8">
	<title>Let's Go! - Admin - View Account</title>
	<th:block th:insert="~{fragments/scripts}"></th:block>
	<style>
		tbody th {text-align: right}
		tbody td {text-align: left}
	</style>
</head>
<body class="vh-100 d-flex flex-column">
<th:block th:insert="~{fragments/navbar}"></th:block>
<div class="d-flex flex-fill">
	<th:block th:insert="~{fragments/sidebar}"></th:block>
	<main class="container-sm text-center flex-grow-1">
		<section th:object="${user}">
			<h1>Hello <span th:text="*{firstName}"></span> <span th:text="*{lastName}"></span></h1>
			<table class="table table-striped table-hover table-sm align-middle">
				<thead class="table-dark">
					<tr>
						<th colspan="2">User</th>
						<th colspan="2">Rider</th>
						<th colspan="2">Driver</th>
					</tr>
					<tr class="table-light">
						<th colspan="2"></th>
						<th colspan="2">
							<a th:if="*{rider.isActive}" th:href="@{/admin/activateRider(id=*{userId})}" class="btn btn-orange btn-sm">Deactivate Rider Account</a>
							<a th:if="*{!rider.isActive}" th:href="@{/admin/activateRider(id=*{userId})}" class="btn btn-info btn-sm">Activate Rider Account</a>
						</th>
						<th colspan="2">
							<a th:if="*{driver.isActive}" th:href="@{/admin/activateDriver(id=*{userId})}" class="btn btn-orange btn-sm">Deactivate Driver Account</a>
							<a th:if="*{!driver.isActive}" th:href="@{/admin/activateDriver(id=*{userId})}" class="btn btn-info btn-sm">Activate Driver Account</a>
						</th>
					</tr>
				</thead>
				<tbody class="table-group-divider border-indigo-subtle">
					<tr>
						<th>userID: </th><td th:text="*{userId}"></td>
						<th>userID: </th><td th:text="*{rider.user.userId}"></td>
						<th>userID: </th><td th:text="*{userId}"></td>
					</tr>
					<tr>
						<th>firstName: </th><td th:text="*{firstName}"></td>
						<th>riderId: </th><td th:text="*{rider.riderId}"></td>
						<th>driverId: </th><td th:text="*{driver.driverId}"></td>
					</tr>
					<tr>
						<th>lastName: </th><td th:text="*{lastName}"></td>
						<th>isActive: </th><td th:text="*{rider.isActive}"></td>
						<th>isActive: </th><td th:text="*{driver.isActive}"></td>
					</tr>
					<tr>
						<th>userStatus: </th><td th:text="*{userStatus}"></td>
						<th>riderStatus: </th><td th:text="*{rider.riderStatus}"></td>
						<th>driverStatus: </th><td th:text="*{driver.driverStatus}"></td>
					</tr>
					<tr>
						<th>timesRated: </th><td th:text="*{timesRated}"></td>
						<th>timesRated: </th><td th:text="*{rider.timesRated}"></td>
						<th>timesRated: </th><td th:text="*{driver.timesRated}"></td>
					</tr>
					<tr>
						<th>overallSafetyScore: </th><td th:text="*{overallSafetyScore}"></td>
						<th>riderSafetyScore: </th><td th:text="*{rider.riderSafetyScore}"></td>
						<th>driverSafetyScore: </th><td th:text="*{driver.driverSafetyScore}"></td>
					</tr>
					<tr>
						<th>overallSafetyRating: </th><td th:text="*{overallSafetyRating}"></td>
						<th>riderSafetyRating: </th><td th:text="*{rider.riderSafetyRating}"></td>
						<th>driverSafetyRating: </th><td th:text="*{driver.driverSafetyRating}"></td>
					</tr>
					<tr>
						<th>overallResponsibilityRating: </th><td th:text="*{overallResponsibilityRating}"></td>
						<th>riderResponsibilityRating: </th><td th:text="*{rider.riderResponsibilityRating}"></td>
						<th>driverResponsibilityRating: </th><td th:text="*{driver.driverResponsibilityRating}"></td>
					</tr>
					<tr>
						<th>email: </th><td th:text="*{email}"></td><td colspan="4"></td>
					</tr>
					<tr>
						<th>password: </th><td th:text="*{password}"></td><td colspan="4"></td>
					</tr>
					<tr>
						<th>isAdmin: </th><td th:text="*{isAdmin}"></td><td colspan="4"></td>
					</tr>
					<tr>
						<th>username: </th><td th:text="*{username}"></td><td colspan="4"></td>
					</tr>
					<tr>
						<th>createdAt: </th><td th:text="*{createdAt}"></td>
						<th></th><td th:text="*{rider.createdAt}"></td>
						<th></th><td th:text="*{driver.createdAt}"></td>
					</tr>
					<tr>
						<th>updatedAt: </th><td th:text="*{updatedAt}"></td>
						<th></th><td th:text="*{rider.updatedAt}"></td>
						<th></th><td th:text="*{driver.updatedAt}"></td>
					</tr>
				</tbody>
				<tfoot>
					<tr>
						<th colspan="2"><a class="btn btn-sm btn-outline-primary" th:href="@{/admin/users/editUser(id=*{userId})}">Edit User</a></th>
						<th colspan="2"><a class="btn btn-sm btn-outline-primary" th:href="@{/admin/riders/editRider(id=*{rider.riderId})}">Edit Rider</a></th>
						<th colspan="2"><a class="btn btn-sm btn-outline-primary" th:href="@{/admin/drivers/editDriver(id=*{driver.driverId})}">Edit Driver</a></th>
					</tr>
				</tfoot>
			</table>
			
			<div class="card">
				<div class="card-header fs-3" th:text="*{firstName + ' ' + lastName}"></div>
				<div class="card-body">
					<form id="form" class="row g-3 p-2" method="post" th:action="@{/admin/users/editUser}" th:object="${user}">
						<input type="hidden" th:field="*{userId}">
						<input type="hidden" th:field="*{isActive}">
						<input type="hidden" th:field="*{createdAt}">
						<div class="row g-3">
							<div class="col-12 col-md-6" th:insert="fragments/inputs :: divFloatingReadonly('text', 'firstName', 'firstName', 'First Name')"></div>
							<div class="col-12 col-md-6" th:insert="fragments/inputs :: divFloatingReadonly('text', 'lastName', 'lastName', 'Last Name')"></div>
							<div class="col-12 col-md-6" th:insert="fragments/inputs :: divFloatingReadonly('email', 'email', 'email', 'Email')"></div>
							<div class="col-12 col-md-6" th:insert="fragments/inputs :: divFloatingReadonly('text', 'username', 'username', 'Username')"></div>
							<div class="col-12 col-md-6" th:insert="fragments/inputs :: divFloatingReadonly('text', 'password', 'password', 'Password')"></div>
							<div class="col-6 col-md-3" th:if="*{!isAdmin}" th:insert="fragments/inputs :: divFloatingReadonlyWithValue('text', 'Not Admin', 'isAdmin', 'Admin Status')"></div>
							<div class="col-6 col-md-3" th:if="*{isAdmin}" th:insert="fragments/inputs :: divFloatingReadonlyWithValue('text', 'Admin', 'isAdmin', 'Admin Status')"></div>
							<div class="col-6 col-md-3" th:insert="fragments/inputs :: divFloatingReadonly('text', 'userStatus', 'userStatus', 'userStatus')"></div>
						</div>
					</form>
				</div>
				<div class="card-footer text-end">
					<button form="form" type="submit" id="editUserSubmit" class="btn btn-outline-primary">Update User Information</button>
				</div>
			</div>
		
		
		</section>
	</main>
</div>
</body>
</html>