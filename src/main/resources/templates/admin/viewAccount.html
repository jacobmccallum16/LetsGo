<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8">
	<title>Let's Go! - Admin - View Account</title>
	<th:block th:insert="~{fragments/scripts}"></th:block>
	<style>
		tbody th {text-align: right}
		tbody td {text-align: left}
	</style>
</head>
<body class="vh-100 d-flex flex-column">
<th:block th:insert="~{fragments/navbar}"></th:block>
<div class="d-flex flex-fill">
	<th:block th:insert="~{fragments/sidebar}"></th:block>
	<main class="container-sm text-center flex-grow-1">
		<h1>Hello <span th:text="${user.firstName}"></span> <span th:text="${user.lastName}"></span></h1>
		<table th:object="${user}" class="table table-striped table-hover table-sm align-middle d-none">
			<thead class="table-dark">
				<tr>
					<th colspan="2">User</th>
					<th colspan="2">Rider</th>
					<th colspan="2">Driver</th>
				</tr>
				<tr class="table-light">
					<th colspan="2"></th>
					<th colspan="2">
						<a th:if="*{rider.isActive}" th:href="@{/admin/activateRider(id=*{userId})}" class="btn btn-orange btn-sm">Deactivate Rider Account</a>
						<a th:if="*{!rider.isActive}" th:href="@{/admin/activateRider(id=*{userId})}" class="btn btn-info btn-sm">Activate Rider Account</a>
					</th>
					<th colspan="2">
						<a th:if="*{driver.isActive}" th:href="@{/admin/activateDriver(id=*{userId})}" class="btn btn-orange btn-sm">Deactivate Driver Account</a>
						<a th:if="*{!driver.isActive}" th:href="@{/admin/activateDriver(id=*{userId})}" class="btn btn-info btn-sm">Activate Driver Account</a>
					</th>
				</tr>
			</thead>
			<tbody class="table-group-divider border-indigo-subtle">
				<tr>
					<th>userID: </th><td th:text="*{userId}"></td>
					<th>userID: </th><td th:text="*{rider.user.userId}"></td>
					<th>userID: </th><td th:text="*{userId}"></td>
				</tr>
				<tr>
					<th>firstName: </th><td th:text="*{firstName}"></td>
					<th>riderId: </th><td th:text="*{rider.riderId}"></td>
					<th>driverId: </th><td th:text="*{driver.driverId}"></td>
				</tr>
				<tr>
					<th>lastName: </th><td th:text="*{lastName}"></td>
					<th>isActive: </th><td th:text="*{rider.isActive}"></td>
					<th>isActive: </th><td th:text="*{driver.isActive}"></td>
				</tr>
				<tr>
					<th>userStatus: </th><td th:text="*{userStatus}"></td>
					<th>riderStatus: </th><td th:text="*{rider.riderStatus}"></td>
					<th>driverStatus: </th><td th:text="*{driver.driverStatus}"></td>
				</tr>
				<tr>
					<th>timesRated: </th><td th:text="*{timesRated}"></td>
					<th>timesRated: </th><td th:text="*{rider.timesRated}"></td>
					<th>timesRated: </th><td th:text="*{driver.timesRated}"></td>
				</tr>
				<tr>
					<th>overallSafetyScore: </th><td th:text="*{overallSafetyScore}"></td>
					<th>riderSafetyScore: </th><td th:text="*{rider.riderSafetyScore}"></td>
					<th>driverSafetyScore: </th><td th:text="*{driver.driverSafetyScore}"></td>
				</tr>
				<tr>
					<th>overallSafetyRating: </th><td th:text="*{overallSafetyRating}"></td>
					<th>riderSafetyRating: </th><td th:text="*{rider.riderSafetyRating}"></td>
					<th>driverSafetyRating: </th><td th:text="*{driver.driverSafetyRating}"></td>
				</tr>
				<tr>
					<th>overallResponsibilityRating: </th><td th:text="*{overallResponsibilityRating}"></td>
					<th>riderResponsibilityRating: </th><td th:text="*{rider.riderResponsibilityRating}"></td>
					<th>driverResponsibilityRating: </th><td th:text="*{driver.driverResponsibilityRating}"></td>
				</tr>
				<tr>
					<th>email: </th><td th:text="*{email}"></td><td colspan="4"></td>
				</tr>
				<tr>
					<th>password: </th><td th:text="*{password}"></td><td colspan="4"></td>
				</tr>
				<tr>
					<th>isAdmin: </th><td th:text="*{isAdmin}"></td><td colspan="4"></td>
				</tr>
				<tr>
					<th>username: </th><td th:text="*{username}"></td><td colspan="4"></td>
				</tr>
				<tr>
					<th>createdAt: </th><td th:text="*{createdAt}"></td>
					<th></th><td th:text="*{rider.createdAt}"></td>
					<th></th><td th:text="*{driver.createdAt}"></td>
				</tr>
				<tr>
					<th>updatedAt: </th><td th:text="*{updatedAt}"></td>
					<th></th><td th:text="*{rider.updatedAt}"></td>
					<th></th><td th:text="*{driver.updatedAt}"></td>
				</tr>
			</tbody>
			<tfoot>
				<tr>
					<th colspan="2"><a class="btn btn-sm btn-outline-primary" th:href="@{/admin/users/editUser(id=*{userId})}">Edit User</a></th>
					<th colspan="2"><a class="btn btn-sm btn-outline-primary" th:href="@{/admin/riders/editRider(id=*{rider.riderId})}">Edit Rider</a></th>
					<th colspan="2"><a class="btn btn-sm btn-outline-primary" th:href="@{/admin/drivers/editDriver(id=*{driver.driverId})}">Edit Driver</a></th>
				</tr>
			</tfoot>
		</table>
		<div class="row">
			<div class="col-12 col-sm-10 col-md-10 col-lg-9 col-xl-8 col-xxl-7 my-3 mx-auto align-middle">
				<div class="card">
					<div class="card-header fs-3" th:text="${'User: ' + user.firstName + ' ' + user.lastName}"></div>
					<div class="card-body">
						<form id="editUser" class="row g-3 p-2" method="post" th:action="@{/admin/users/editUser}" th:object="${user}">
							<div class="row g-3">
								<div class="col-4 col-md-2" th:insert="~{fragments/inputs :: divFloatingDisabledData('number', 'userId', 'userId', 'User ID')}"></div>
								<div class="col-8 col-md-5" th:insert="~{fragments/inputs :: divFloatingRequiredAutofocus('text', 'firstName', 'firstName', 'First Name')}"></div>
								<div class="col-12 col-md-5" th:insert="~{fragments/inputs :: divFloatingRequired('text', 'lastName', 'lastName', 'Last Name')}"></div>
								<div class="col-12 col-md-4" th:insert="~{fragments/inputs :: divFloatingRequired('email', 'email', 'email', 'Email')}"></div>
								<div class="col-12 col-md-4" th:insert="~{fragments/inputs :: divFloatingRequired('text', 'username', 'username', 'Username')}"></div>
								<div class="col-12 col-md-4" th:insert="~{fragments/inputs :: divFloatingRequired('text', 'password', 'password', 'Password')}"></div>
								<div class="col-6 col-sm-3">
									<div class="form-floating">
										<select class="form-select" id="isAdmin" name="isAdmin" th:value="*{isAdmin}" th:field="*{isAdmin}" th:errorClass="is-invalid">
											<option th:value="0" th:selected="*{isAdmin == false}">Not Admin</option>
											<option th:value="1" th:selected="*{isAdmin == true}">Admin</option>
										</select>
										<label for="isAdmin">Admin Status</label>
									</div>
								</div>
								<div class="col-6 col-sm-3">
									<div class="form-floating">
										<select class="form-select" id="userIsActive" name="isActive" th:value="*{isActive}" th:field="*{isActive}" th:errorClass="is-invalid">
											<option th:value="1" th:selected="*{isActive}">Active</option>
											<option th:value="0" th:selected="*{!isActive}">Inactive</option>
										</select>
										<label for="userIsActive">Is Active</label>
									</div>
								</div>
								<div class="col-6 col-sm-3">
									<div class="form-floating">
										<select class="form-select" id="userStatus" name="userStatus" th:value="*{userStatus}" th:field="*{userStatus}" th:errorClass="is-invalid">
											<option th:value="Inactive" th:selected="*{userStatus == 'Inactive'}">Inactive</option>
											<option th:value="Active" th:selected="*{userStatus == 'Active'}">Active</option>
											<option th:value="Banned" th:selected="*{userStatus == 'Banned'}">Banned</option>
										</select>
										<label for="userStatus">User Status</label>
									</div>
								</div>
								<div class="col-6 col-sm-3" th:insert="~{fragments/inputs :: divFloatingDisabled('number', 'timesRated', 'timesRated', 'Times Rated')}"></div>
								<div class="col-6 col-sm-4 order-sm-last" th:insert="~{fragments/inputs :: divFloatingDisabled('number', 'overallSafetyScore', 'overallSafetyScore', 'Safety Score')}"></div>
								<div class="col-6 col-sm-4" th:insert="~{fragments/inputs :: divFloatingDisabled('number', 'overallSafetyRating', 'overallSafetyRating', 'Safety Rating')}"></div>
								<div class="col-6 col-sm-4" th:insert="~{fragments/inputs :: divFloatingDisabled('number', 'overallResponsibilityRating', 'overallResponsibilityRating', 'Responsibility Rating')}"></div>
								<div class="col-12 col-sm-6 order-last" th:insert="~{fragments/inputs :: divFloatingDisabledData('text', 'createdAt', 'userCreatedAt', 'Created At')}"></div>
								<div class="col-12 col-sm-6 order-last" th:insert="~{fragments/inputs :: divFloatingDisabled('text', 'updatedAt', 'userUpdatedAt', 'Updated At')}"></div>
							</div>
						</form>
					</div>
					<div class="card-footer text-end">
						<button form="editUser" type="submit" id="editUserSubmit" class="btn btn-outline-primary">Update User Information</button>
					</div>
				</div>
			</div>
			<div class="col-12 col-sm-10 col-md-10 col-lg-9 col-xl-8 col-xxl-6 my-3 mx-auto align-middle">
				<div class="card">
					<div class="card-header fs-3" th:text="${'Rider: ' + user.firstName + ' ' + user.lastName}"></div>
					<div class="card-body">
						<form id="editRider" class="row g-3" method="post" th:action="@{/admin/riders/editRider}" th:object="${rider}">
							<input type="hidden" th:field="*{riderId}">
							<input type="hidden" th:field="*{user.userId}">
							<div class="col-6 col-sm-3">
								<div class="form-floating">
									<select id="riderIsActive" class="form-select" th:field="*{isActive}" required>
										<option th:value="1" th:selected="*{isActive}">Active</option>
										<option th:value="0" th:selected="*{!isActive}">Inactive</option>
									</select>
									<label for="riderIsActive">Is Active</label>
								</div>
							</div>
							<div class="col-6 col-sm-3">
								<div class="form-floating">
									<select id="riderStatus" class="form-select" th:field="*{riderStatus}" required>
										<option th:value="Active" th:selected="*{riderStatus == 'Active'}">Active</option>
										<option th:value="Inactive" th:selected="*{riderStatus == 'Inactive'}">Inactive</option>
										<option th:value="Banned" th:selected="*{riderStatus == 'Banned'}">Banned</option>
									</select>
									<label for="riderStatus">Rider Status</label>
								</div>
							</div>
							<div class="col-6 col-sm-3" th:insert="~{fragments/inputs :: divFloatingRequired('number', 'tripsTaken', 'tripsTaken', 'Trips Taken')}"></div>
							<div class="col-6 col-sm-3" th:insert="~{fragments/inputs :: divFloatingRequired('number', 'timesRated', 'timesRated', 'Times Rated')}"></div>
							<div class="col-6 col-sm-3 order-sm-last" th:insert="~{fragments/inputs :: divFloatingDisabled('number', 'riderSafetyScore', 'riderSafetyScore', 'Safety Score')}"></div>
							<div class="col-6 col-sm-4" th:insert="~{fragments/inputs :: divFloatingRequired('number', 'riderSafetyRating', 'riderSafetyRating', 'Safety Rating')}"></div>
							<div class="col-6 col-sm-5" th:insert="~{fragments/inputs :: divFloatingRequired('number', 'riderResponsibilityRating', 'riderResponsibilityRating', 'Responsibility Rating')}"></div>
							<div class="col-12 col-sm-6 order-last" th:insert="~{fragments/inputs :: divFloatingDisabledData('text', 'createdAt', 'createdAt', 'Created At')}"></div>
							<div class="col-12 col-sm-6 order-last" th:insert="~{fragments/inputs :: divFloatingDisabled('text', 'updatedAt', 'updatedAt', 'Updated At')}"></div>
						</form>
					</div>
					<div class="card-footer text-end">
						<button form="editRider" type="submit" id="editRiderSubmit" class="btn btn-outline-primary">Update Rider Information</button>
					</div>
				</div>
			</div>
			<div class="col-12 col-sm-10 col-md-10 col-lg-9 col-xl-8 col-xxl-6 my-3 mx-auto align-middle">
				<div class="card">
					<div class="card-header fs-3" th:text="${'Driver: ' + user.firstName + ' ' + user.lastName}"></div>
					<div class="card-body">
						<form id="editDriver" class="row g-3 needs-validation" novalidate method="post" th:action="@{/admin/drivers/editDriver}" th:object="${driver}">
							<input type="hidden" th:field="*{driverId}">
							<input type="hidden" th:field="*{user.userId}">
							<div class="col-6 col-sm-3">
								<div class="form-floating">
									<select id="isActive" class="form-select" th:field="*{isActive}" required>
										<option th:value="1" th:selected="*{isActive}">Active</option>
										<option th:value="0" th:selected="*{!isActive}">Inactive</option>
									</select>
									<label for="isActive">Is Active</label>
								</div>
							</div>
							<div class="col-6 col-sm-3">
								<div class="form-floating">
									<select id="driverStatus" class="form-select" th:field="*{driverStatus}" required>
										<option th:value="Active" th:selected="*{driverStatus == 'Active'}">Active</option>
										<option th:value="Inactive" th:selected="*{driverStatus == 'Inactive'}">Inactive</option>
										<option th:value="Banned" th:selected="*{driverStatus == 'Banned'}">Banned</option>
									</select>
									<label for="driverStatus">Driver Status</label>
								</div>
							</div>
							<div class="col-6 col-sm-3" th:insert="~{fragments/inputs :: divFloatingRequired('number', 'tripsDriven', 'tripsDriven', 'Trips Driven')}"></div>
							<div class="col-6 col-sm-3" th:insert="~{fragments/inputs :: divFloatingRequired('number', 'timesRated', 'driverTimesRated', 'Times Rated')}"></div>
							<div class="col-6 col-sm-3 order-sm-last" th:insert="~{fragments/inputs :: divFloatingDisabled('number', 'driverSafetyScore', 'driverSafetyScore', 'Safety Score')}"></div>
							<div class="col-6 col-sm-4" th:insert="~{fragments/inputs :: divFloatingRequired('number', 'driverSafetyRating', 'driverSafetyRating', 'Safety Rating')}"></div>
							<div class="col-6 col-sm-5" th:insert="~{fragments/inputs :: divFloatingRequired('number', 'driverResponsibilityRating', 'driverResponsibilityRating', 'Responsibility Rating')}"></div>
							<div class="col-12 col-sm-6 order-last" th:insert="~{fragments/inputs :: divFloatingDisabledData('text', 'createdAt', 'driverCreatedAt', 'Created At')}"></div>
							<div class="col-12 col-sm-6 order-last" th:insert="~{fragments/inputs :: divFloatingDisabled('text', 'updatedAt', 'driverUpdatedAt', 'Updated At')}"></div>
						</form>
					</div>
					<div class="card-footer text-end">
						<button form="editDriver" type="submit" id="editDriverSubmit" class="btn btn-outline-primary">Update Driver Information</button>
					</div>
				</div>
			</div>
		</div>
	</main>
</div>
</body>
</html>